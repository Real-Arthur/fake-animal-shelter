{"ast":null,"code":"import { jsxDEV as _jsxDEV } from \"react/jsx-dev-runtime\";\nvar _jsxFileName = \"/Users/rthrcrsn/Documents/Projects/struggling-shelter/src/components/User/TeamChallengePhotos/TeamFeedInfo.js\";\nimport React, { Component } from 'react';\nimport { connect } from 'react-redux';\nimport mapStoreToProps from '../../../redux/mapStoreToProps'; // import material ui\n\nimport { Button, Grid, Typography } from '@material-ui/core'; // import sweet alert\n\nimport swal from 'sweetalert';\n\nclass TeamFeedInfo extends Component {\n  constructor(...args) {\n    super(...args);\n\n    this.approveImage = async value => {\n      await this.props.dispatch({\n        type: 'APPROVE_PHOTOS',\n        payload: {\n          photo_id: value,\n          team_id: this.props.store.user.teams_id\n        }\n      });\n    };\n\n    this.deleteImage = async value => {\n      await this.props.dispatch({\n        type: 'SUBTRACT_STEPS',\n        payload: value\n      });\n      await this.props.dispatch({\n        type: 'DELETE_PHOTOS',\n        payload: {\n          photo_id: value,\n          team_id: this.props.store.user.teams_id\n        }\n      });\n    };\n\n    this.denyImage = value => {\n      swal({\n        title: \"Are you sure you want to deny this photo?\",\n        text: \"Once denied the image will be deleted and cannot be recovered.\",\n        icons: \"warning\",\n        buttons: true,\n        dangerMode: true\n      }).then(willDelete => {\n        if (willDelete) {\n          swal(\"Image Successfully deleted!\", {\n            icon: \"success\"\n          }).then(() => {\n            this.deleteImage(value);\n          });\n        } else {\n          swal(\"You're in luck, the image wasn't deleted!\");\n        }\n      });\n    };\n  }\n\n  render() {\n    return /*#__PURE__*/_jsxDEV(\"div\", {\n      children: /*#__PURE__*/_jsxDEV(\"div\", {\n        className: \"feedInfo\",\n        children: /*#__PURE__*/_jsxDEV(Grid, {\n          container: true,\n          spacing: 1,\n          children: [/*#__PURE__*/_jsxDEV(Grid, {\n            container: true,\n            item: true,\n            xs: 12,\n            spacing: 3,\n            children: [/*#__PURE__*/_jsxDEV(Grid, {\n              item: true,\n              xs: 3,\n              children: /*#__PURE__*/_jsxDEV(\"div\", {\n                className: \"teamFeedAvatarDiv\",\n                children: /*#__PURE__*/_jsxDEV(\"img\", {\n                  className: \"feedAvatar\",\n                  src: this.props.photo.image_path\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 68,\n                  columnNumber: 19\n                }, this)\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 67,\n                columnNumber: 17\n              }, this)\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 66,\n              columnNumber: 15\n            }, this), /*#__PURE__*/_jsxDEV(Grid, {\n              item: true,\n              xs: 9,\n              children: /*#__PURE__*/_jsxDEV(\"div\", {\n                className: \"teamFeedDescription\",\n                children: [/*#__PURE__*/_jsxDEV(Typography, {\n                  variant: \"body2\",\n                  children: this.props.photo.username\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 73,\n                  columnNumber: 19\n                }, this), /*#__PURE__*/_jsxDEV(Typography, {\n                  variant: \"body2\",\n                  children: this.props.photo.name\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 74,\n                  columnNumber: 19\n                }, this)]\n              }, void 0, true, {\n                fileName: _jsxFileName,\n                lineNumber: 72,\n                columnNumber: 17\n              }, this)\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 71,\n              columnNumber: 15\n            }, this)]\n          }, void 0, true, {\n            fileName: _jsxFileName,\n            lineNumber: 65,\n            columnNumber: 13\n          }, this), /*#__PURE__*/_jsxDEV(Grid, {\n            container: true,\n            item: true,\n            xs: 12,\n            spacing: 3,\n            children: /*#__PURE__*/_jsxDEV(Grid, {\n              item: true,\n              xs: 12,\n              children: this.props.store.user.admin === \"CAPTAIN\" && this.props.photo.approved === false ? /*#__PURE__*/_jsxDEV(\"div\", {\n                className: \"approveDenyImageBtns\",\n                children: [/*#__PURE__*/_jsxDEV(Button, {\n                  style: {\n                    marginLeft: '30px'\n                  },\n                  variant: \"contained\",\n                  color: \"secondary\",\n                  onClick: () => this.denyImage(this.props.photo.id),\n                  children: \"Deny\"\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 82,\n                  columnNumber: 21\n                }, this), /*#__PURE__*/_jsxDEV(Button, {\n                  style: {\n                    color: 'white',\n                    background: '#054f95',\n                    marginLeft: '30px'\n                  },\n                  variant: \"contained\",\n                  color: \"primary\",\n                  onClick: () => this.approveImage(this.props.photo.id),\n                  children: \"Approve\"\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 83,\n                  columnNumber: 21\n                }, this)]\n              }, void 0, true, {\n                fileName: _jsxFileName,\n                lineNumber: 81,\n                columnNumber: 19\n              }, this) : null\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 79,\n              columnNumber: 15\n            }, this)\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 78,\n            columnNumber: 13\n          }, this)]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 64,\n          columnNumber: 11\n        }, this)\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 63,\n        columnNumber: 9\n      }, this)\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 62,\n      columnNumber: 7\n    }, this);\n  }\n\n}\n\nexport default connect(mapStoreToProps)(TeamFeedInfo);","map":{"version":3,"sources":["/Users/rthrcrsn/Documents/Projects/struggling-shelter/src/components/User/TeamChallengePhotos/TeamFeedInfo.js"],"names":["React","Component","connect","mapStoreToProps","Button","Grid","Typography","swal","TeamFeedInfo","approveImage","value","props","dispatch","type","payload","photo_id","team_id","store","user","teams_id","deleteImage","denyImage","title","text","icons","buttons","dangerMode","then","willDelete","icon","render","photo","image_path","username","name","admin","approved","marginLeft","id","color","background"],"mappings":"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","sourcesContent":["import React, { Component } from 'react';\nimport { connect } from 'react-redux';\nimport mapStoreToProps from '../../../redux/mapStoreToProps';\n// import material ui\nimport { Button, Grid, Typography } from '@material-ui/core';\n// import sweet alert\nimport swal from 'sweetalert';\n\nclass TeamFeedInfo extends Component {\n  // Function sends photo id and teams id, needs both photo id for the put request\n  // and the teams id to pass to fetch_captain_team_photos type for payload.\n  approveImage = async (value) => {\n    await this.props.dispatch({\n      type: 'APPROVE_PHOTOS',\n      payload: {\n        photo_id: value,\n        team_id: this.props.store.user.teams_id\n      }\n    });\n  };\n\n  // Function subtracts 1000 steps first then runs dispatch for delete photo\n  // needs to pass teams id to be used in saga that listens for FETCH_CAPTAIN_TEAM_PHOTOS\n  deleteImage = async (value) => {\n    await this.props.dispatch({\n      type: 'SUBTRACT_STEPS',\n      payload: value\n    });\n    await this.props.dispatch({\n      type: 'DELETE_PHOTOS',\n      payload: {\n        photo_id: value,\n        team_id: this.props.store.user.teams_id\n      }\n    });\n  };\n\n  // validation function.\n  denyImage = (value) => {\n    swal({\n      title: \"Are you sure you want to deny this photo?\",\n      text: \"Once denied the image will be deleted and cannot be recovered.\",\n      icons: \"warning\",\n      buttons: true,\n      dangerMode: true\n    }).then(willDelete => {\n      if(willDelete){\n        swal(\"Image Successfully deleted!\",{\n          icon: \"success\",\n        }).then(() => {\n          this.deleteImage(value);\n        })\n      }\n      else {\n        swal(\"You're in luck, the image wasn't deleted!\");\n      }\n    });\n  };\n\n  render() {\n    return (\n      <div>\n        <div className='feedInfo'>\n          <Grid container spacing={1}>\n            <Grid container item xs={12} spacing={3}>\n              <Grid item xs={3}>\n                <div className='teamFeedAvatarDiv'>\n                  <img className='feedAvatar' src={this.props.photo.image_path}/>\n                </div>\n              </Grid>\n              <Grid item xs={9}>\n                <div className='teamFeedDescription'>\n                  <Typography variant='body2'>{this.props.photo.username}</Typography>\n                  <Typography variant='body2'>{this.props.photo.name}</Typography>\n                </div>\n              </Grid>\n            </Grid>\n            <Grid container item xs={12} spacing={3}>\n              <Grid item xs={12}>\n                {this.props.store.user.admin === \"CAPTAIN\" && this.props.photo.approved === false ?\n                  <div className='approveDenyImageBtns'>\n                    <Button style={{marginLeft: '30px'}} variant=\"contained\" color=\"secondary\" onClick={() => this.denyImage(this.props.photo.id)}>Deny</Button>\n                    <Button style={{ color: 'white', background: '#054f95', marginLeft: '30px'}} variant=\"contained\" color=\"primary\" onClick={() => this.approveImage(this.props.photo.id)}>Approve</Button>\n                  </div> : null\n                }\n              </Grid>\n            </Grid>\n          </Grid>\n        </div>\n      </div>\n    );\n  }\n}\n\nexport default connect(mapStoreToProps)(TeamFeedInfo);"]},"metadata":{},"sourceType":"module"}